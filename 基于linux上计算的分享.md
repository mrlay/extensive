# 计算  计算机  操作系统
##  三者定义及之间的关系
- 从我个人狭义的角度来看，计算就约等于数学，是一个人类为科学的认识世界及世界内在事物联系和规律的工具和手段；在某些具体事情上要做大量的重复的有具体规律可循的计算，单纯用人力的话会耗费很久的时间和人工成本，于是我们需要开发一套辅助的计算工具，完成在设计好映射关系和定义好定义域后自动得到一个结果集【人工智能的映射关系是一套能够自洽的映射关系】；为了方便及让计算机能够通用，工程师们又为计算机开发了一套名为操作系统的应用软件，来管理应用们，使之能充分发挥硬件资源提高性能，方便人机交互。【操作系统的历史可以看看 《大教堂与集市》《unix 编程艺术》中有涉及】
- 综上可用一句话来概括，人们通过与操作系统交互定义自己想要完成的计算功能后，操作系统会控制计算机完成相关的计算并反馈计算的结果。
## 计算机的构成及原理简述
- 人们曾用结绳，刻记号，算盘，笔和纸的方式完成信息的记载和计算；后来人们利用半导体材料在可变的物理条件下会产生高 低两种不同的状态的物理特性，以及不断精进的工艺制造水平将半导体构成的逻辑电路集成到一个芯片中，再依据不同的应用场景将不同功能的的芯片封装组合构成了一个 SOC，使之能够具备在相应的场景下能够执行计算功能的硬件条件。
- 通常一个计算机是由 时钟，电源，处理器，存储，总线 和一些I/O设备构成，不同场景下的就算机主要差异就是集成的I/O设备的差异，也就是说 I/O 设备是计算机应用范围的拓展。
- 从逻辑角度来看，计算机应该满足的是 冯诺依曼 /哈佛 体系，即  中央处理器 + 存储器 + 总线 + 其他外部I/O设备。
- 中央处理器，在历史的发展长河中出现了不同的指令系统【ARM x86 x86_64 RISC MIPS LongArc】，而指令系统则是对中央处理器乃至整个soc的抽象，作为非硬件工程师 只需要知道 cpu 的指令系统，就能对其构建算法集让其进行计算完成算法的功能
- 当前的存储设备物理特性，使之在计算机系统中是一个金字塔模型；数据 指令 计算结构都将存储器中；通过各种各样的数据总线完成数据的交互
## 操作系统简述
- 当前存有的主流的操作系统有windows 类unix harmony, 本次将以 linux 为例。Linux 操作系统存有很多不同的发型版本，这些发行版本都是基于主线的 linux 内核 + 不同的应用；所以对操作系统的描述主要讨论其内核。【宏内核， 微内核】
- linux 内核职责为：内存管理，文件系统，设备管理，网络管理，进程调度【时间片 中断 抢占】
	- 内存管理
	- 文件系统
	- 设备管理
	- 网络管理
	- 进程调度
- linux 设备启动过程： 上电自检， 状态初始化【内存，向量表】，加载内核机器码
## 基于linux上的应用实现计算的概念
- C++语言漫谈
	- 编程语言的基本概念
		- 指令和数据 -- metaprogramming [lisp]
		- 类型系统：
			- 基本类型，复合类型
			- 信息的表示，类型相互间转换 【static/const/reintepert/dynamic_cast】
		- 逻辑控制，逻辑单元
		- 组合 构建
		- 资源管理 手动，gc, 类型系统
		- 编程范式  procerdure obd oop function generic
	- 编译器的OOP
		- 《c++面向对象模型》
			- 面向对象语义：class 对象的表示
			- function semantic：default constructor/destructor; copy constructor/assigment; (N)RVO
	- mordern C++ 我目前了解的点
		- RAII + stack + resource 【pointer, fd, lock, exception】
		- 右值，移动语义
		- 写法体验改进优化 for  auto/decltype iterator {} pair tuple tie 自定义字面量
		- 模版 模版泛化 编译期的模版运算
		- STL container
		- lambda 
			- copy **transform** sort reverse find accumulate
- 进程与线程 【进程是对内存管理和文件系统的抽象】
 ![[Pasted image 20220526154724.png]]
	 - 每个进程有自己的独立地址空间，不与其他进程分享；一个进程里可以有多个线程，彼此共享同一个地址空间。
	- 堆内存、文件、套接字等资源都归进程管理，同一个进程里的多个线程可以共享使用。每个进程占用的内存和其他资源，会在进程退出或被杀死时返回给操作系统。
	- 并发应用开发可以用多进程或多线程的方式。多线程由于可以共享资源，效率较高；反之，多进程（默认）不共享地址空间和资源，开发较为麻烦，在需要共享数据时效率也较低。但多进程安全性较好，在某一个进程出问题时，其他进程一般不受影响；而在多线程的情况下，一个线程执行了非法操作会导致整个进程退出。
- 多进程并发问题 
	- IPC  【pipe shared-memory + semaphore socket kernel-msg-que 】
- 多线程并发问题
	- mutex + 条件变量，rwlock,  信号量，可重入读写锁
- c++ 的多线程
	- 提供的 thread 对象在对象析构前需要 join or detach  否则异常 （课自己封装一个thread对象）
	- 除了mutex 和 recursive_mutex 还有其他的锁封装。 (recursive)\_time\_mutex (recursive)\_share_\_mutex
	- future  线程间的同步 【launch::async, promise】 golang channel
	- 内存模型和atomic

## 计算机计算能力的挑战
- np问题、海量数据、摩尔定律的失效：分布式系统，云计算/边缘计算，量子计算机
- 分布式系统 【集群的抽象：就像单机系统一样】MIT 6.824
	- calculate performance
	- fault tolerance
	- phyical distribute
	- error isorate
## 数据结构与算法
- 基本的数据结构
	- 数组  链表
- 复合的数据结构
	- stack heap queue priority-queue tree(binary-search-tree, AVL-tree, RB-tree, 2-3-tree, Btree, B+tree,) jump-list, kv
	- ood 算法
- 算法思想
	- 分治 贪心 回朔 动态规划
	- 深度优先  广度优先
- 随机算法 
## 其他编程语言
- lisp - Fortan
	- John McCarthy 于1958年设计出这个语言，之后并由他的学生 Steve Rusell 实现其解释器。
	- Lisp和Fortran代表了编程语言发展的两大方向。前者的基础是数学，后者的基础是硬件架构。从那时起，这两大方向一直在互相靠拢。Lisp刚设计出来的时候，就很强大，接下来的二十年，它提高了自己的运行速度。而那些所谓的主流语言，把更快的运行速度作为设计的出发点，然后再用超过四十年的时间，一步步变得更强大。
	- 1. 条件结构；2. 函数也是一种数据类型；3. 递归；4. 变量的动态类型；5. 垃圾回收机制；6. 程序由表达式组成；7. 符号类型；8. 代码使用符号和常量组成的树形表示法（notation S-expression）；9. 无论什么时候代码都是可用的
	- 直到今天，最高级的主流语言，也只是刚刚接近Lisp的水平。虽然已经很接近了，但还是没有Lisp那样强大
- java
	- 纯面向对象
	- 能够运行在各个平台的虚拟机使之具备兼容性
	- 生态很强大
- lua
	- 能够嵌入到其他语言中的语法简洁的脚本语言。1W行左右的C语言写成的
	- any类型是 table
- python
	- 语法简洁的生态强大的脚本语言
	- 多范式编程
- golang
	- 面向分布式网络应用的静态语言
	- 强大的runtime，丰富的工具链，接近C的效率
	- 强大的爸爸
-  rust
	- 主打 安全 效率
## 流行的开源组件
- marian DB
- redies
- zookeeper
- docker
- kafka
- nginx
## 常用的开发工具